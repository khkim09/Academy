-- DB에 원활하게 저장되는지 테스트용 script
-- 'academy' 데이터베이스를 사용합니다.
USE academy;

-- [선택 사항] 새로운 테스트를 위해 기존 학생 명단과 출결 기록을 초기화합니다.
-- TRUNCATE TABLE class_rosters;
-- TRUNCATE TABLE attendance;
-- 1. 7개의 테스트용 분반 데이터를 추가합니다.
INSERT
    IGNORE INTO classes (class_name)
VALUES
    ('일 대찬 1400-1700'),
    ('월 명인 1800-2130'),
    ('화 명인 1400-1700'),
    ('수 대찬 1800-2130'),
    ('목 명인 1400-1700'),
    ('금 대찬 1800-2130'),
    ('토 명인 1400-1700');

-- 2. 분반별 고정 학생 명단(roster)을 대량으로 추가합니다. (총 70명)
-- 'INSERT IGNORE'를 사용하여 전화번호가 중복되는 데이터는 무시합니다.
INSERT
    IGNORE INTO class_rosters (class_name, student_name, phone, school)
VALUES
    ('일 대찬 1400-1700', '임서준', '010-3427-1000', '한빛고'),
    ('일 대찬 1400-1700', '윤지우', '010-2053-1001', '대찬고'),
    ('일 대찬 1400-1700', '정하늘', '010-2595-1002', '대찬고'),
    ('일 대찬 1400-1700', '장예린', '010-6301-1003', '명인고'),
    ('일 대찬 1400-1700', '이서연', '010-6521-1004', '대찬고'),
    ('일 대찬 1400-1700', '정하늘', '010-7603-1005', '대찬고'),
    ('일 대찬 1400-1700', '이현우', '010-8014-1006', '세정고'),
    ('일 대찬 1400-1700', '정서연', '010-7731-1007', '한빛고'),
    ('일 대찬 1400-1700', '장현우', '010-9245-1008', '세정고'),
    ('일 대찬 1400-1700', '윤지우', '010-1614-1009', '청운고'),
    ('월 명인 1800-2130', '임예린', '010-4375-1000', '한빛고'),
    ('월 명인 1800-2130', '최서연', '010-3319-1001', '청운고'),
    ('월 명인 1800-2130', '조서준', '010-8125-1002', '세정고'),
    ('월 명인 1800-2130', '김태현', '010-5879-1003', '명인고'),
    ('월 명인 1800-2130', '최민준', '010-3038-1004', '세정고'),
    ('월 명인 1800-2130', '최지우', '010-3390-1005', '대찬고'),
    ('월 명인 1800-2130', '최서준', '010-5373-1006', '청운고'),
    ('월 명인 1800-2130', '조태현', '010-8837-1007', '한빛고'),
    ('월 명인 1800-2130', '장현우', '010-4989-1008', '청운고'),
    ('월 명인 1800-2130', '임유나', '010-5456-1009', '대찬고'),
    ('화 명인 1400-1700', '정지우', '010-5735-1000', '청운고'),
    ('화 명인 1400-1700', '윤예린', '010-9156-1001', '한빛고'),
    ('화 명인 1400-1700', '최유나', '010-3785-1002', '대찬고'),
    ('화 명인 1400-1700', '조태현', '010-5451-1003', '명인고'),
    ('화 명인 1400-1700', '윤유나', '010-4008-1004', '대찬고'),
    ('화 명인 1400-1700', '박현우', '010-8975-1005', '한빛고'),
    ('화 명인 1400-1700', '장현우', '010-6330-1006', '명인고'),
    ('화 명인 1400-1700', '강현우', '010-1983-1007', '명인고'),
    ('화 명인 1400-1700', '박민준', '010-6773-1008', '명인고'),
    ('화 명인 1400-1700', '조하늘', '010-4981-1009', '세정고'),
    ('수 대찬 1800-2130', '김현우', '010-4896-1000', '세정고'),
    ('수 대찬 1800-2130', '임태현', '010-6701-1001', '명인고'),
    ('수 대찬 1800-2130', '이민준', '010-2699-1002', '한빛고'),
    ('수 대찬 1800-2130', '이예린', '010-7439-1003', '대찬고'),
    ('수 대찬 1800-2130', '장서준', '010-3832-1004', '세정고'),
    ('수 대찬 1800-2130', '윤서준', '010-9560-1005', '명인고'),
    ('수 대찬 1800-2130', '김도윤', '010-7771-1006', '한빛고'),
    ('수 대찬 1800-2130', '최서연', '010-7501-1007', '청운고'),
    ('수 대찬 1800-2130', '박예린', '010-5234-1008', '세정고'),
    ('수 대찬 1800-2130', '조태현', '010-1376-1009', '청운고'),
    ('목 명인 1400-1700', '정서준', '010-1607-1000', '세정고'),
    ('목 명인 1400-1700', '이지우', '010-6762-1001', '명인고'),
    ('목 명인 1400-1700', '장유나', '010-7123-1002', '대찬고'),
    ('목 명인 1400-1700', '김유나', '010-9622-1003', '청운고'),
    ('목 명인 1400-1700', '박지우', '010-5557-1004', '한빛고'),
    ('목 명인 1400-1700', '임유나', '010-8254-1005', '대찬고'),
    ('목 명인 1400-1700', '이태현', '010-8595-1006', '명인고'),
    ('목 명인 1400-1700', '조유나', '010-2350-1007', '대찬고'),
    ('목 명인 1400-1700', '김현우', '010-3913-1008', '한빛고'),
    ('목 명인 1400-1700', '김서준', '010-1323-1009', '명인고'),
    ('금 대찬 1800-2130', '최예린', '010-7021-1000', '청운고'),
    ('금 대찬 1800-2130', '김하늘', '010-6190-1001', '청운고'),
    ('금 대찬 1800-2130', '강민준', '010-8788-1002', '명인고'),
    ('금 대찬 1800-2130', '김지우', '010-4792-1003', '세정고'),
    ('금 대찬 1800-2130', '장현우', '010-1447-1004', '한빛고'),
    ('금 대찬 1800-2130', '정서연', '010-4507-1005', '청운고'),
    ('금 대찬 1800-2130', '최태현', '010-5298-1006', '한빛고'),
    ('금 대찬 1800-2130', '이유나', '010-6235-1007', '대찬고'),
    ('금 대찬 1800-2130', '조도윤', '010-6619-1008', '세정고'),
    ('금 대찬 1800-2130', '박예린', '010-9123-1009', '한빛고'),
    ('토 명인 1400-1700', '정하늘', '010-2562-1000', '청운고'),
    ('토 명인 1400-1700', '강하늘', '010-9385-1001', '청운고'),
    ('토 명인 1400-1700', '윤태현', '010-2317-1002', '한빛고'),
    ('토 명인 1400-1700', '조예린', '010-8014-1003', '청운고'),
    ('토 명인 1400-1700', '조예린', '010-4151-1004', '대찬고'),
    ('토 명인 1400-1700', '임현우', '010-9974-1005', '대찬고'),
    ('토 명인 1400-1700', '최예린', '010-9213-1006', '청운고'),
    ('토 명인 1400-1700', '최도윤', '010-9232-1007', '한빛고'),
    ('토 명인 1400-1700', '최서준', '010-3682-1008', '세정고'),
    ('토 명인 1400-1700', '임예린', '010-7937-1009', '명인고');

-- 3. 오늘 날짜(2025-07-15)의 출결 기록을 대량으로 추가합니다.
-- 이미 해당 날짜에 기록이 있으면 status(상태) 값만 업데이트합니다.
INSERT INTO
    attendance (class_name, student_name, phone, date, status)
VALUES
    (
        '일 대찬 1400-1700',
        '임서준',
        '010-3427-1000',
        '2025-07-15',
        '결석'
    ),
    (
        '일 대찬 1400-1700',
        '윤지우',
        '010-2053-1001',
        '2025-07-15',
        '출석'
    ),
    (
        '일 대찬 1400-1700',
        '정하늘',
        '010-2595-1002',
        '2025-07-15',
        '결석'
    ),
    (
        '일 대찬 1400-1700',
        '장예린',
        '010-6301-1003',
        '2025-07-15',
        '결석'
    ),
    (
        '일 대찬 1400-1700',
        '이서연',
        '010-6521-1004',
        '2025-07-15',
        '출석'
    ),
    (
        '일 대찬 1400-1700',
        '정하늘',
        '010-7603-1005',
        '2025-07-15',
        '출석'
    ),
    (
        '일 대찬 1400-1700',
        '이현우',
        '010-8014-1006',
        '2025-07-15',
        '결석'
    ),
    (
        '일 대찬 1400-1700',
        '정서연',
        '010-7731-1007',
        '2025-07-15',
        '결석'
    ),
    (
        '일 대찬 1400-1700',
        '장현우',
        '010-9245-1008',
        '2025-07-15',
        '결석'
    ),
    (
        '일 대찬 1400-1700',
        '윤지우',
        '010-1614-1009',
        '2025-07-15',
        '결석'
    ),
    (
        '월 명인 1800-2130',
        '임예린',
        '010-4375-1000',
        '2025-07-15',
        '출석'
    ),
    (
        '월 명인 1800-2130',
        '최서연',
        '010-3319-1001',
        '2025-07-15',
        '결석'
    ),
    (
        '월 명인 1800-2130',
        '조서준',
        '010-8125-1002',
        '2025-07-15',
        '출석'
    ),
    (
        '월 명인 1800-2130',
        '김태현',
        '010-5879-1003',
        '2025-07-15',
        '결석'
    ),
    (
        '월 명인 1800-2130',
        '최민준',
        '010-3038-1004',
        '2025-07-15',
        '결석'
    ),
    (
        '월 명인 1800-2130',
        '최지우',
        '010-3390-1005',
        '2025-07-15',
        '결석'
    ),
    (
        '월 명인 1800-2130',
        '최서준',
        '010-5373-1006',
        '2025-07-15',
        '출석'
    ),
    (
        '월 명인 1800-2130',
        '조태현',
        '010-8837-1007',
        '2025-07-15',
        '출석'
    ),
    (
        '월 명인 1800-2130',
        '장현우',
        '010-4989-1008',
        '2025-07-15',
        '출석'
    ),
    (
        '월 명인 1800-2130',
        '임유나',
        '010-5456-1009',
        '2025-07-15',
        '출석'
    ),
    (
        '화 명인 1400-1700',
        '정지우',
        '010-5735-1000',
        '2025-07-15',
        '결석'
    ),
    (
        '화 명인 1400-1700',
        '윤예린',
        '010-9156-1001',
        '2025-07-15',
        '결석'
    ),
    (
        '화 명인 1400-1700',
        '최유나',
        '010-3785-1002',
        '2025-07-15',
        '결석'
    ),
    (
        '화 명인 1400-1700',
        '조태현',
        '010-5451-1003',
        '2025-07-15',
        '결석'
    ),
    (
        '화 명인 1400-1700',
        '윤유나',
        '010-4008-1004',
        '2025-07-15',
        '결석'
    ),
    (
        '화 명인 1400-1700',
        '박현우',
        '010-8975-1005',
        '2025-07-15',
        '결석'
    ),
    (
        '화 명인 1400-1700',
        '장현우',
        '010-6330-1006',
        '2025-07-15',
        '출석'
    ),
    (
        '화 명인 1400-1700',
        '강현우',
        '010-1983-1007',
        '2025-07-15',
        '결석'
    ),
    (
        '화 명인 1400-1700',
        '박민준',
        '010-6773-1008',
        '2025-07-15',
        '출석'
    ),
    (
        '화 명인 1400-1700',
        '조하늘',
        '010-4981-1009',
        '2025-07-15',
        '출석'
    ),
    (
        '수 대찬 1800-2130',
        '김현우',
        '010-4896-1000',
        '2025-07-15',
        '출석'
    ),
    (
        '수 대찬 1800-2130',
        '임태현',
        '010-6701-1001',
        '2025-07-15',
        '출석'
    ),
    (
        '수 대찬 1800-2130',
        '이민준',
        '010-2699-1002',
        '2025-07-15',
        '출석'
    ),
    (
        '수 대찬 1800-2130',
        '이예린',
        '010-7439-1003',
        '2025-07-15',
        '출석'
    ),
    (
        '수 대찬 1800-2130',
        '장서준',
        '010-3832-1004',
        '2025-07-15',
        '결석'
    ),
    (
        '수 대찬 1800-2130',
        '윤서준',
        '010-9560-1005',
        '2025-07-15',
        '출석'
    ),
    (
        '수 대찬 1800-2130',
        '김도윤',
        '010-7771-1006',
        '2025-07-15',
        '출석'
    ),
    (
        '수 대찬 1800-2130',
        '최서연',
        '010-7501-1007',
        '2025-07-15',
        '출석'
    ),
    (
        '수 대찬 1800-2130',
        '박예린',
        '010-5234-1008',
        '2025-07-15',
        '출석'
    ),
    (
        '수 대찬 1800-2130',
        '조태현',
        '010-1376-1009',
        '2025-07-15',
        '출석'
    ),
    (
        '목 명인 1400-1700',
        '정서준',
        '010-1607-1000',
        '2025-07-15',
        '결석'
    ),
    (
        '목 명인 1400-1700',
        '이지우',
        '010-6762-1001',
        '2025-07-15',
        '출석'
    ),
    (
        '목 명인 1400-1700',
        '장유나',
        '010-7123-1002',
        '2025-07-15',
        '출석'
    ),
    (
        '목 명인 1400-1700',
        '김유나',
        '010-9622-1003',
        '2025-07-15',
        '결석'
    ),
    (
        '목 명인 1400-1700',
        '박지우',
        '010-5557-1004',
        '2025-07-15',
        '출석'
    ),
    (
        '목 명인 1400-1700',
        '임유나',
        '010-8254-1005',
        '2025-07-15',
        '결석'
    ),
    (
        '목 명인 1400-1700',
        '이태현',
        '010-8595-1006',
        '2025-07-15',
        '결석'
    ),
    (
        '목 명인 1400-1700',
        '조유나',
        '010-2350-1007',
        '2025-07-15',
        '출석'
    ),
    (
        '목 명인 1400-1700',
        '김현우',
        '010-3913-1008',
        '2025-07-15',
        '결석'
    ),
    (
        '목 명인 1400-1700',
        '김서준',
        '010-1323-1009',
        '2025-07-15',
        '출석'
    ),
    (
        '금 대찬 1800-2130',
        '최예린',
        '010-7021-1000',
        '2025-07-15',
        '출석'
    ),
    (
        '금 대찬 1800-2130',
        '김하늘',
        '010-6190-1001',
        '2025-07-15',
        '결석'
    ),
    (
        '금 대찬 1800-2130',
        '강민준',
        '010-8788-1002',
        '2025-07-15',
        '결석'
    ),
    (
        '금 대찬 1800-2130',
        '김지우',
        '010-4792-1003',
        '2025-07-15',
        '출석'
    ),
    (
        '금 대찬 1800-2130',
        '장현우',
        '010-1447-1004',
        '2025-07-15',
        '출석'
    ),
    (
        '금 대찬 1800-2130',
        '정서연',
        '010-4507-1005',
        '2025-07-15',
        '출석'
    ),
    (
        '금 대찬 1800-2130',
        '최태현',
        '010-5298-1006',
        '2025-07-15',
        '출석'
    ),
    (
        '금 대찬 1800-2130',
        '이유나',
        '010-6235-1007',
        '2025-07-15',
        '출석'
    ),
    (
        '금 대찬 1800-2130',
        '조도윤',
        '010-6619-1008',
        '2025-07-15',
        '결석'
    ),
    (
        '금 대찬 1800-2130',
        '박예린',
        '010-9123-1009',
        '2025-07-15',
        '결석'
    ),
    (
        '토 명인 1400-1700',
        '정하늘',
        '010-2562-1000',
        '2025-07-15',
        '출석'
    ),
    (
        '토 명인 1400-1700',
        '강하늘',
        '010-9385-1001',
        '2025-07-15',
        '결석'
    ),
    (
        '토 명인 1400-1700',
        '윤태현',
        '010-2317-1002',
        '2025-07-15',
        '결석'
    ),
    (
        '토 명인 1400-1700',
        '조예린',
        '010-8014-1003',
        '2025-07-15',
        '결석'
    ),
    (
        '토 명인 1400-1700',
        '조예린',
        '010-4151-1004',
        '2025-07-15',
        '결석'
    ),
    (
        '토 명인 1400-1700',
        '임현우',
        '010-9974-1005',
        '2025-07-15',
        '결석'
    ),
    (
        '토 명인 1400-1700',
        '최예린',
        '010-9213-1006',
        '2025-07-15',
        '결석'
    ),
    (
        '토 명인 1400-1700',
        '최도윤',
        '010-9232-1007',
        '2025-07-15',
        '결석'
    ),
    (
        '토 명인 1400-1700',
        '최서준',
        '010-3682-1008',
        '2025-07-15',
        '결석'
    ),
    (
        '월 명인 1800-2130',
        '장현우',
        '010-4989-1008',
        '2025-07-12',
        '출석'
    ),
    (
        '월 명인 1800-2130',
        '장현우',
        '010-4989-1008',
        '2025-06-30',
        '출석'
    ),
    (
        '토 명인 1400-1700',
        '임예린',
        '010-7937-1009',
        '2025-07-15',
        '출석'
    ) AS new_data ON DUPLICATE KEY
UPDATE
    status = new_data.status;